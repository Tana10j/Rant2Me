<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rant2Me - Home</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="home">
    <header>
       <h1 class="brand-title">Welcome to Rant2Me</h1>
        <nav>
            <a href="home.html">Home</a>
            <a href="chat.html">Chat</a>
            <a href="help.html">Help Centre</a>
            <a href="faq.html">FAQ</a>
            <a href="token.html">Tokens</a>
            <a href="about.html">About Us</a>
            <a href="services.html">Services</a>
            <button id="logoutBtn" style="margin-left: 10px;">Logout</button>
        </nav>
    </header>

    <section class="welcome">
        <img src="images/counselling_black_people.jpg" alt="Counselling Session">
        <h2 id="typing-text"></h2>
    </section>    

    <p class="quote">"Sometimes all we need is for someone to listen."</p>

    <section class="gallery">
        <h2>Our Moments</h2>
        <p>More pictures and stories coming soon!</p>
        <div class="image-grid">
            <img src="images/Pic1.jpeg" alt="Coming soon image">
            <img src="images/Pic2.jpeg" alt="Coming soon image">
        </div>
    </section>

    <script src="script.js"></script>

    <!-- ✅ Combined Firebase Auth logic in one script -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAEVKUuUn0rypPGTzJ2UsVIy9HGYUBHLhI",
            authDomain: "rant2me-ab36b.firebaseapp.com",
            projectId: "rant2me-ab36b",
            storageBucket: "rant2me-ab36b.firebasestorage.app",
            messagingSenderId: "245661393279",
            appId: "1:245661393279:web:b31483f57a40cf2c807a4a",
            measurementId: "G-KPCSJTSMT9"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);

        // ✅ Restrict access if not logged in
       onAuthStateChanged(auth, (user) => {
    if (user) {
        // User is logged in, do nothing
        console.log("User is authenticated:", user.email);
    } else {
        // Wait a bit before redirecting to be sure Firebase finished initializing
        setTimeout(() => {
            window.location.href = "index.html";
        }, 100); // short delay to avoid false redirect
            }
        });

        // ✅ Logout functionality
        const logoutBtn = document.getElementById("logoutBtn");
        if (logoutBtn) {
            logoutBtn.addEventListener("click", () => {
                signOut(auth)
                    .then(() => {
                        window.location.href = "index.html"; // redirect after logout
                    })
                    .catch((error) => {
                        alert("Error signing out: " + error.message);
                    });
            });
        }
    </script>
    <!-- Disclaimer Modal -->
<div id="disclaimerModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:9999; justify-content:center; align-items:center;">
  <div style="background:#fff; padding:20px; max-width:500px; width:90%; border-radius:8px; text-align:center;">
    <h2>Disclaimer & Terms of Use</h2>
    <p style="text-align:left; max-height:300px; overflow-y:auto;">
      <strong>By using Rant2Me, you agree to the following:</strong><br><br>
      1. No Harassment or Abuse – You will not post or share content that is threatening, abusive, hateful, harassing, defamatory, obscene, or otherwise unlawful.<br><br>
      2. No Illegal Content – You will not use Rant2Me to share or promote illegal activities.<br><br>
      3. Privacy Notice – While we strive to protect your information, Rant2Me is not responsible for content shared publicly. Avoid sharing personal, confidential, or sensitive information.<br><br>
      4. Not Professional Advice – Rant2Me is for expression and support only. Nothing on this platform constitutes medical, legal, financial, or professional advice.<br><br>
      5. Content Moderation – We reserve the right to review, remove, or report any content that violates these terms.<br><br>
      6. Use at Your Own Risk – You are solely responsible for your interactions and content shared on Rant2Me.
    </p>
    <button id="agreeBtn" style="margin-top:15px; padding:10px 20px; background:#28a745; color:white; border:none; border-radius:4px; cursor:pointer;">I Agree</button>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    if (!localStorage.getItem("disclaimerAccepted")) {
      document.getElementById("disclaimerModal").style.display = "flex";
    }

    document.getElementById("agreeBtn").addEventListener("click", function() {
      localStorage.setItem("disclaimerAccepted", "true");
      document.getElementById("disclaimerModal").style.display = "none";
    });
  });
</script>
<footer style="text-align:center; padding:15px; font-size:14px; background:#f5f5f5;">
  &copy; 2025 Rant2Me | <a href="#" onclick="showDisclaimer()" style="color:#007BFF; text-decoration:none;">Disclaimer & Terms</a>
</footer>

<script>
  function showDisclaimer() {
    document.getElementById("disclaimerModal").style.display = "flex";
  }
</script>
</body>
</html>
