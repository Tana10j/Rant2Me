<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="images/Rant2Me Favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Rant2Me - Home</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="home">
  <div class="banner">
  <span>‚ú® Statement of the Week Coming Soon‚ú®</span>
</div>
    <header>
       <h1 class="brand-title">Welcome to Rant2Me</h1>
       <!-- Daily Mood Modal -->
<div id="moodModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.7); z-index:9999; justify-content:center; align-items:center;">
  <div style="background:#fff; padding:20px; max-width:400px; width:90%; border-radius:8px; text-align:center;">
    <h2>Daily Mood Check-In</h2>
    <p>How are you feeling today?</p>
    <div style="margin:15px 0;">
      <button class="moodBtn" data-mood="üòä">üòä Good</button>
      <button class="moodBtn" data-mood="üòê">üòê Okay</button>
      <button class="moodBtn" data-mood="üòî">üòî Bad</button>
    </div>
    <button onclick="closeMoodModal()" style="padding:8px 16px; background:#007BFF; color:#fff; border:none; border-radius:4px;">Skip</button>
  </div>
</div>
        <nav>
            <a href="home.html">Home</a>
            <a href="chat.html">Chat</a>
            <a href="help.html">Help Centre</a>
            <a href="faq.html">FAQ</a>
            <a href="pay.html">Plans</a>
            <a href="about.html">About Us</a>
            <a href="services.html">Services</a>
            <button id="logoutBtn" style="margin-left: 10px;">Logout</button>
        </nav>
    </header>

    <section class="welcome">
        <img src="images/counselling_black_people.jpg" alt="Counselling Session">
        <h2 id="typing-text"></h2>
    </section>    

    <p class="quote">"Sometimes all we need is for someone to listen."</p>

    <section class="gallery">
        <h2>Our Moments</h2>
        <p>More pictures and stories coming soon!</p>
        <div class="slideshow">
  <img src="images/forest-3804001_1920.jpg" class="slide" />
  <img src="images/horse-7993644_1920.jpg" class="slide" />
  <img src="images/landscape-9556563_1920.jpg" class="slide" />
  <img src="images/milky-way-8149815_1920.jpg" class="slide" />
  <img src="images/mountains-5112952_1920.jpg" class="slide" />
  <img src="images/landscape-7373484_1920.jpg" class="slide" />
  <img src="images/rice-field-3490060_1920.jpg" class="slide" />
  <img src="images/autumn-7541345_1920.jpg" class="slide" />
</div>
    </section>

    <section class="newsletter">
        <h2>üì© Subscribe to Our Weekly Newsletter</h2>
        <p>Get infonomics insights, lifestyle hacks, and wellness tips from Rant2Me.</p>
        <div class="newsletter-embed">
            <iframe src="https://rant2me.substack.com/embed" 
                    width="480" height="320" 
                    style="border:1px solid #EEE; background:white;" 
                    frameborder="0" scrolling="no"></iframe>
        </div>
    </section>
    <!-- ‚úÖ End Newsletter -->

    <script src="script.js"></script>

    <!-- ‚úÖ Combined Firebase Auth logic in one script -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAEVKUuUn0rypPGTzJ2UsVIy9HGYUBHLhI",
            authDomain: "rant2me-ab36b.firebaseapp.com",
            projectId: "rant2me-ab36b",
            storageBucket: "rant2me-ab36b.firebasestorage.app",
            messagingSenderId: "245661393279",
            appId: "1:245661393279:web:b31483f57a40cf2c807a4a",
            measurementId: "G-KPCSJTSMT9"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);

        // ‚úÖ Restrict access if not logged in
       onAuthStateChanged(auth, (user) => {
    if (user) {
        // User is logged in, do nothing
        console.log("User is authenticated:", user.email);
    } else {
        // Wait a bit before redirecting to be sure Firebase finished initializing
        setTimeout(() => {
            window.location.href = "index.html";
        }, 100); // short delay to avoid false redirect
            }
        });

        // ‚úÖ Logout functionality
        const logoutBtn = document.getElementById("logoutBtn");
        if (logoutBtn) {
            logoutBtn.addEventListener("click", () => {
                signOut(auth)
                    .then(() => {
                        window.location.href = "index.html"; // redirect after logout
                    })
                    .catch((error) => {
                        alert("Error signing out: " + error.message);
                    });
            });
        }
    </script>
    <!-- Disclaimer Modal -->
<div id="disclaimerModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:9999; justify-content:center; align-items:center;">
  <div style="background:#fff; padding:20px; max-width:500px; width:90%; border-radius:8px; text-align:center;">
    <h2>Disclaimer & Terms of Use</h2>
    <p style="text-align:left; max-height:300px; overflow-y:auto;">
      <strong>By using Rant2Me, you agree to the following:</strong><br><br>
      1. No Harassment or Abuse ‚Äì You will not post or share content that is threatening, abusive, hateful, harassing, defamatory, obscene, or otherwise unlawful.<br><br>
      2. No Illegal Content ‚Äì You will not use Rant2Me to share or promote illegal activities.<br><br>
      3. Privacy Notice ‚Äì While we strive to protect your information, Rant2Me is not responsible for content shared publicly. Avoid sharing personal, confidential, or sensitive information.<br><br>
      4. Not Professional Advice ‚Äì Rant2Me is for expression and support only. Nothing on this platform constitutes medical, legal, financial, or professional advice.<br><br>
      5. Content Moderation ‚Äì We reserve the right to review, remove, or report any content that violates these terms.<br><br>
      6. Use at Your Own Risk ‚Äì You are solely responsible for your interactions and content shared on Rant2Me.
    </p>
    <button id="agreeBtn" style="margin-top:15px; padding:10px 20px; background:#28a745; color:white; border:none; border-radius:4px; cursor:pointer;">I Agree</button>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    if (!localStorage.getItem("disclaimerAccepted")) {
      document.getElementById("disclaimerModal").style.display = "flex";
    }

    document.getElementById("agreeBtn").addEventListener("click", function() {
      localStorage.setItem("disclaimerAccepted", "true");
      document.getElementById("disclaimerModal").style.display = "none";
    });
  });
</script>
<footer style="text-align:center; padding:15px; font-size:14px; background:#f5f5f5;">
  &copy; 2025 Rant2Me | <a href="#" onclick="showDisclaimer()" style="color:#007BFF; text-decoration:none;">Disclaimer & Terms</a>
</footer>

<script>
  function showDisclaimer() {
    document.getElementById("disclaimerModal").style.display = "flex";
  }
</script>
<script>
   // ‚úÖ Mood Tracker logic
  document.addEventListener("DOMContentLoaded", function() {
    const today = new Date().toISOString().split('T')[0];

    if (localStorage.getItem("moodCheckDate") !== today) {
      document.getElementById("moodModal").style.display = "flex";
    }

    document.querySelectorAll(".moodBtn").forEach(btn => {
      btn.addEventListener("click", async function() {
        const mood = this.dataset.mood;
        localStorage.setItem("moodCheckDate", today);
        localStorage.setItem("mood", mood);
        
        // ‚úÖ Save to Firestore
        const user = auth.currentUser;
        if (user) {
          try {
            await addDoc(collection(db, "moods"), {
              mood: mood,
              userId: user.uid,
              userEmail: user.email,
              createdAt: serverTimestamp()
            });
            alert("Thanks for checking in! Mood saved: " + mood);
          } catch (err) {
            console.error("Error saving mood:", err);
          }
        } else {
          alert("You must be logged in to save mood.");
        }

        closeMoodModal();
      });
    });
  });

  function closeMoodModal() {
    document.getElementById("moodModal").style.display = "none";
  }
</script>
</body>
</html>
